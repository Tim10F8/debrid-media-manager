Navigation & Status
- Refresh button with animated spinner — lets the user manually sync the cache and immediately see when the last fetch failed or succeeded.
- Relative "last fetched" label — communicates staleness of the library data at a glance.
- "Go Home" link — provides a one-click exit back to the landing page.
- Library header shows total torrent count plus total size with emoji feedback — keeps overall usage and growth visible even while data is loading.

Keyboard & Pagination
- Previous/next arrow buttons with disabled states — enable paging through large libraries with clear bounds.
- Page indicator (current/total) — shows progress through the paginated list.
- Left/Right arrow keyboard shortcuts outside inputs/modals — allow rapid paging without touching the mouse.
- Typing any letter when not focused puts focus in the search box — lets users start filtering instantly.

Search & Filtering
- Quick search box (multi-term and regex, case-insensitive) — filters filenames, hashes, and IDs without a round trip.
- Reset button — clears filters, resets sorting, and returns to page 1 for a clean slate.
- Media shortcuts (Movies, TV shows, Others) — jump to normalized media-type subsets in one click.
- Duplicate discovery buttons (Same hash, Same title) — expose likely duplicates for cleanup when available.
- Status filters (Selected, Uncached, In progress, No seeds, Failed) — spotlight torrents needing attention based on live counts.
- Row badges for same hash/title/show — deep-link into the relevant filtered view for targeted triage.
- "Search again" chip on each torrent with metadata — opens `/search` in a new tab to locate better sources.

Help & Tips
- Rotating help banner selected by current minute — surfaces context tips about backups, selections, etc.
- Clicking the banner hides it (sets to `hide`) — keeps the UI clean once advice is read.

Selection Awareness
- First column toggle (plus/check icon) — marks torrents for batch actions with immediate visual feedback.
- Selected count appears both in the header (`selected/filtered`) and the Select column label — clarifies the current batch size.
- `Select Shown` / `Unselect All` toolbar buttons — quickly grow or clear the selection without manual clicks.
- Bulk operations operate on the selection when it exists, otherwise on the entire filtered list — keeps actions predictable.

Bulk Maintenance Toolbar
- `Reinsert` button — reconverts every chosen torrent back into the debrid queue with progress toasts to rescue stuck downloads.
- `Share List` button — prompts for a title and generates a hash list file/link for sharing the current selection safely.
- `Delete List` button — runs a confirmation modal and issues service-specific deletes with optimistic UI updates and error rollbacks.
- `Backup` button — exports either all torrents (respecting current sort) or just the filtered subset to a timestamped `.dmm.json`.

Add & Restore Workflows
- `RD Add` / `AD Add` / `TB Add` — modal accepts multiple magnet URIs or `.torrent` files and dispatches them to the chosen provider before refreshing the cache.
- Service-specific handling: Real-Debrid and TorBox upload torrent files directly; AllDebrid hashes them so magnets can be queued as well.
- Local restore per service — imports backup JSON, skips already-present hashes, and reports how many were restored vs ignored.
- Restore for RD/TB batch-checks availability (100 hashes at a time) to prioritize cached torrents with higher concurrency, then slower uncached ones.
- Restore workflow emits toasts for already-owned hashes, cached vs uncached counts, and refreshes the library before auto reloading after 10 seconds.
- `Local backup` respects the active sort order so exported data mirrors the current view.

Duplicate Cleanup
- `Size` dedupe — lets the user choose to keep bigger or smaller duplicates, deletes the rest concurrently, and reports successes/failures via toast.
- `Date` dedupe — similarly keeps either the newest or oldest entries per normalized title.
- `Hash` merge — keeps one finished torrent per hash, reinserts it to align selected files, deletes the extras, and refreshes afterward.

Per-Torrent Row Controls
- Clicking any data cell opens the detail view for that torrent (modal for RD/AD, alert for TB) — centralizes per-item management.
- Media-type icon is clickable to cycle movie → TV → other, persisting immediately to the local DB for better grouping.
- Duplicate badges and the "Search again" chip aid discovery of better releases or associated episodes.
- Service prefix (RD/AD/TB) is shown when multiple providers are configured — clarifies which account owns the torrent.
- Row action icons: Share (opens generated share route), Delete (calls provider delete and removes from cache), Copy/Download magnet (respects the `settings:downloadMagnets` preference), Reinsert/Restart (service-aware recovery plus optional refresh).
- Status cell shows live progress, seeder count, and speed for active downloads; completed/error torrents display friendly status text.

Sorting & Metrics
- Column headers (Select, Title, Size, Status, Added) toggle ascending/descending sort with arrow indicators — enables ad-hoc ordering without reloading.
- Title sorting keeps uppercase variants grouped predictably to reduce surprises when names differ only by case.
- Header always shows total torrents, total size, and a mood emoji keyed to library size — a quick health check for storage usage.

Detail Modal (Real-Debrid)
- Provides share/delete/magnet/reinsert controls plus Stremio cast button when an RD token exists — streamlines post-download actions.
- Offers Real-Debrid downloader shortcut, bulk export of unrestricted links, and automatic STRM generation for media centers.
- File selection toolbar: Only Videos, Unselect All, Reset, Save Selection — lets users curate which files stay cached and reinserts if needed.
- Selection counter updates live; Save Selection reuses either the supplied handler or falls back to reinsert/delete cycle with toast feedback.
- Modal attempts to fetch media info (codecs, etc.) to inform playback decisions.

Detail Modal (AllDebrid)
- Mirrors share/delete/magnet/restart/export/STRM actions tailored to AllDebrid’s API.
- Restart button re-queues the torrent; export downloads raw AD links; STRM creation wraps each link for media players.
- Displays AllDebrid status codes, dates, and media info when available.

Detail View (TorBox)
- Currently logs torrent info and shows an alert summarizing title, status, progress, and size — still useful for quick diagnostics.

Sharing & External Hooks
- `handleShare` integration navigates to a shareable route for individual torrents or hash lists — simplifies collaboration.
- `generateHashList` packs filenames and hashes into a distributable artifact for friends or backups.
- Row "Search again" buttons re-run the query on the Search page to find alternate releases.

Hidden & Advanced Tools
- Double-clicking the "Library" header invokes a hidden backup utility that dumps historical week tables (or the current week) to JSON and logs table counts.
- The page registers `window.generateStrmFiles`, `window.exportLinks`, and `window.triggerFetchLatestRDTorrents` so modal scripts and advanced users can directly invoke those helpers.

Automation & Notifications
- Visiting `/library?addMagnet=...` auto-extracts hashes, queues them for every configured service, and refreshes the library afterward.
- Pagination, filters, and media-type selections all sync to URL query params, making the current view shareable/bookmarkable.
- Contextual help text changes when viewing slow, in-progress, failed, or uncached subsets to explain what the user is seeing.
- Toast messages highlight uncached AllDebrid torrents, bulk operation progress, restore outcomes, and any errors that need attention.
